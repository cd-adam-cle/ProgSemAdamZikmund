Next.js 14 App Router

The App Router is a new paradigm for building applications in Next.js. It uses React Server Components and is located in the app/ directory.

File structure:
- app/ directory for all routes
- page.tsx for route pages
- layout.tsx for shared layouts
- loading.tsx for loading states
- error.tsx for error handling
- not-found.tsx for 404 pages
- route.ts for API routes

Creating a page:
Every folder in app/ represents a route segment. To make it accessible, add a page.tsx file:

export default function Page() {
  return <div>Hello World</div>
}

Layouts:
Layouts wrap pages and persist across route changes. The root layout is required:

export default function Layout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  )
}

Route Groups:
Use (folderName) to organize routes without affecting the URL structure.

Dynamic Routes:
- [slug] - Dynamic segment
- [...slug] - Catch-all segment
- [[...slug]] - Optional catch-all segment

Example: app/blog/[slug]/page.tsx

export default function Post({ params }: { params: { slug: string } }) {
  return <div>Post: {params.slug}</div>
}

Server Components by default, use 'use client' directive for client components.

Loading UI:
Create loading.tsx to show loading states automatically:

export default function Loading() {
  return <div>Loading...</div>
}

Error Handling:
Create error.tsx to handle errors:

'use client'
export default function Error({ error, reset }: { error: Error, reset: () => void }) {
  return (
    <div>
      <h2>Something went wrong!</h2>
      <button onClick={reset}>Try again</button>
    </div>
  )
}
